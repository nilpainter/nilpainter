{{ define "main" }}

<div style="max-width: 1200px; margin: 0 auto; padding: 4rem 3rem;">
  
  {{/* PAGE TITLE - Full width, left-aligned with margin */}}
  <h1 style="font-size: 3rem; font-weight: 300; line-height: 1.2; margin-bottom: 4rem; margin-left: 0; font-style: italic;">
    Projects
  </h1>

  {{/* Projects Grid - 2 columns, aligned with main content (50rem) */}}
  <div style="max-width: 50rem; margin: 0 auto;">
    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 3rem;">
      {{ range .Pages }}
      <a href="{{ .RelPermalink }}" class="image-card" style="display: block;">
        {{/* Image with lazy loading */}}
        {{ if .Params.image }}
          <img src="{{ .Params.image }}" alt="{{ .Title }}" loading="lazy" style="width: 100%; height: 280px; object-fit: cover; display: block; border-radius: 8px;">
        {{ else }}
          <div style="width: 100%; height: 280px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;"></div>
        {{ end }}
          
          {{/* Title underneath */}}
          <h2 style="font-size: 1.35rem; font-weight: 400; margin-top: 1rem; line-height: 1.3;">
            {{ .Title }}
          </h2>
        </a>
      {{ end }}
    </div>
  </div>

  {{/* Responsive grid */}}
  <style>
    @media (max-width: 768px) {
      div[style*="grid-template-columns: repeat(2, 1fr)"] {
        grid-template-columns: 1fr !important;
      }
    }
  </style>

</div>

{{ end }}
